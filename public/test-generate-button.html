<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Generate Button</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Radio buttons styling */
    input[type="radio"] {
      display: none;
    }
    
    input[type="radio"] + label {
      display: block;
      padding: 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
      background: white;
    }
    
    input[type="radio"]:checked + label {
      background: #10b981;
      color: white;
      border-color: #10b981;
    }
    
    input[type="radio"] + label:hover {
      border-color: #10b981;
    }
  </style>
</head>
<body class="bg-gray-50 p-8">
  <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow">
    <h1 class="text-2xl font-bold mb-6">ğŸ§ª Test Bouton "GÃ©nÃ©rer"</h1>
    
    <!-- Step 1: Level -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold mb-3">Niveau</h3>
      <div class="grid grid-cols-1 gap-3">
        <input type="radio" id="debutant" name="level" value="debutant">
        <label for="debutant">DÃ©butant</label>
        
        <input type="radio" id="intermediaire" name="level" value="intermediaire">
        <label for="intermediaire">IntermÃ©diaire</label>
        
        <input type="radio" id="competition" name="level" value="competition">
        <label for="competition">CompÃ©tition</label>
      </div>
    </div>
    
    <!-- Step 2: Frequency -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold mb-3">FrÃ©quence</h3>
      <div class="grid grid-cols-1 gap-3">
        <input type="radio" id="occasionnel" name="frequency" value="occasionnel">
        <label for="occasionnel">Occasionnel</label>
        
        <input type="radio" id="regulier" name="frequency" value="regulier">
        <label for="regulier">RÃ©gulier</label>
        
        <input type="radio" id="intensif" name="frequency" value="intensif">
        <label for="intensif">Intensif</label>
      </div>
    </div>
    
    <!-- Generate Button -->
    <div class="mt-8">
      <button 
        id="generateBtn" 
        onclick="testGenerate(); return false;" 
        class="w-full px-6 py-4 bg-green-600 text-white rounded-lg font-semibold text-lg hover:bg-green-700 transition">
        ğŸ‰ Voir mes recommandations
      </button>
    </div>
    
    <!-- Log -->
    <div class="mt-6 p-4 bg-gray-100 rounded">
      <h3 class="font-semibold mb-2">ğŸ“‹ Log en temps rÃ©el :</h3>
      <pre id="log" class="text-xs whitespace-pre-wrap"></pre>
    </div>
    
    <!-- Result -->
    <div id="result" class="mt-6 p-4 bg-blue-100 rounded hidden">
      <h3 class="font-semibold mb-2">âœ… RÃ©sultat :</h3>
      <pre id="resultContent" class="text-sm whitespace-pre-wrap"></pre>
    </div>
  </div>

  <script>
    const logEl = document.getElementById('log');
    const resultEl = document.getElementById('result');
    const resultContentEl = document.getElementById('resultContent');
    
    function log(message) {
      const timestamp = new Date().toLocaleTimeString();
      logEl.textContent += `[${timestamp}] ${message}\n`;
      console.log(message);
    }
    
    log('âœ… Script loaded');
    
    // Test function called by onclick
    function testGenerate() {
      log('ğŸ‰ testGenerate() called!');
      
      // Get selections
      const level = document.querySelector('input[name="level"]:checked')?.value;
      const frequency = document.querySelector('input[name="frequency"]:checked')?.value;
      
      log(`ğŸ“Š Level: ${level || 'NOT SELECTED'}`);
      log(`ğŸ“Š Frequency: ${frequency || 'NOT SELECTED'}`);
      
      if (!level || !frequency) {
        log('âŒ Missing selections!');
        alert('Veuillez sÃ©lectionner un niveau ET une frÃ©quence');
        return false;
      }
      
      log('âœ… All selections valid');
      
      // Show result
      resultEl.classList.remove('hidden');
      resultContentEl.textContent = JSON.stringify({ level, frequency }, null, 2);
      
      log('âœ… Result displayed!');
      
      return false; // Prevent default
    }
    
    // Expose to global scope
    window.testGenerate = testGenerate;
    
    log('âœ… testGenerate exposed to window');
    
    // Listen to button clicks for debugging
    document.getElementById('generateBtn').addEventListener('click', function(e) {
      log('ğŸ” addEventListener ALSO triggered (should not interfere)');
    });
    
    log('âœ… Ready to test!');
  </script>
</body>
</html>
